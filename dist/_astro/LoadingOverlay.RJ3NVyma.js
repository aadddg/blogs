import{o as w,i as C}from"./lifecycle.B1OGArQi.js";import{c as M,f as O,a as f,p as q,b as I,s as o,m as g,g as r,d as E,e as u,h as x,r as d,t as y,i as D}from"./render.Xn86AIRU.js";import{i as b}from"./if.Dkcv-mIB.js";/* empty css                        */var R=E('<div class="progress-text svelte-1nxla2p"> </div>'),S=E('<div class="loading-overlay svelte-1nxla2p"><div class="spinner-container svelte-1nxla2p"><div class="spinner svelte-1nxla2p"></div> <!></div> <p class="loading-message svelte-1nxla2p"> </p></div>');function H(F,A){I(A,!1);let v=g(!0),i=g(0),n=g("正在初始化...");w(()=>{document.body.style.overflow="hidden",setTimeout(()=>{o(n,"正在加载资源..."),B()},500),setTimeout(()=>{r(v)&&c()},3e3)});const B=()=>{const s=document.querySelectorAll("img"),e=s.length;if(e===0){o(n,"资源加载完成"),o(i,100),setTimeout(c,600);return}let t=0;s.forEach(a=>{const l=()=>{t++,o(i,Math.round(t/e*100)),o(n,`已加载 ${t}/${e} 张图片`),(t>=e||r(i)>=100)&&setTimeout(c,600)};a.complete||a.naturalWidth>0?l():(a.addEventListener("load",l,{once:!0}),a.addEventListener("error",l,{once:!0}))})},c=()=>{o(v,!1),document.body.style.overflow=""};C();var h=M(),L=O(h);{var T=s=>{var e=S(),t=u(e),a=x(u(t),2);{var l=m=>{var p=R(),$=u(p);d(p),y(()=>D($,`${r(i)??""}%`)),f(m,p)};b(a,m=>{r(i)>0&&m(l)})}d(t);var _=x(t,2),k=u(_,!0);d(_),d(e),y(()=>D(k,r(n))),f(s,e)};b(L,s=>{r(v)&&s(T)})}f(F,h),q()}export{H as default};
